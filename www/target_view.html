<ons-page id="target_view_html" class="target-page" ng-device-backbutton="$($event.target).find('.button-ok').click()">
    <ons-toolbar>
        <div class="center">{{ ctl_target.get_view_title()}}</div>

        <div class="right" ng-click="app.navi.pushPage('target_edit.html')">
            <ons-toolbar-button>
                <i class="icon ion-edit"></i>
            </ons-toolbar-button>
        </div>
    </ons-toolbar>

    <ons-list modifier="inset">
        <ons-list-item ng-repeat="data in target_data" ng-class="{completed: data.done > data.target}">
            <ons-row ng-init="setting = target_setting[$index]">
                <ons-col class="title" ng-click="ctl_target.show_help(setting.key)">
                    {{ setting.title}}
                    <ons-icon icon="ion-ios-help-outline" fixed-width="true"></ons-icon>
                </ons-col>

                <ons-col width="50" style="text-align: right">
                    {{ data.done}} / {{ data.target}}
                </ons-col>
            </ons-row>
        </ons-list-item>
    </ons-list>

    <div class="bottom-bar bottom-bar-button">
        <div class="bottom-bar__line-height button-ok" onclick="$(this).parents('form').submit();">
            {{ "ONS_OK" | translate }}
        </div>
    </div>

    <!----------------------------------------->

    <ons-modal var="target_help_modal" ng-click="target_help_modal.hide()">
        <img src="{{ target_help.help_img}}" />
        <div style="margin: 1rem;white-space: pre;">{{ target_help.help}}</div>
        <ons-button>{{ "ONS_OK" | translate }}</ons-button>
    </ons-modal>
</ons-page>